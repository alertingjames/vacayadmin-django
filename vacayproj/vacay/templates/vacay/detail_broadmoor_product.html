{% extends 'vacay/base_broadmoor_product.html' %}
{% block title %}Broadmoor Details{% endblock %}
{% block body %}
<br>
<br>
<br>
<style>

html, body{
  background:linear-gradient(0deg,rgba(200,100,150,0.3),rgba(0,100,150,0.3)), url("/static/vacay/images/retailbackg3.jpg") no-repeat center center fixed;
  background-size:cover;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.dropdown:hover .dropdown-content {
    display: block;
}

.desc {
    padding: 15px;
    text-align: center;
}

.header {
   background-image: url("/static/vacay/images/bc_gif7.gif");
   background-size:20%,100%;
  color: white;
  font-size: 2.5em;
  font-weight:900;
  text-shadow: 4px 4px 8px #111111;
  padding: 1rem;
  text-align: left;
  text-transform: uppercase;
  <!--border: 1px solid white;-->
}

img {
  border-radius: 50%;
  height: 80px;
  width: 80px;
}

#product-image{
    border-radius: 5%;
    height:auto;
    width: 130px;
}

.manage {
  border-radius: 10%;
}

.table-users {
  border: 1px solid #327a81;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
  width: 100%;
  background-color: white;
}

.table-users1 {
  display:none;
  border: 1px solid #ffffff;
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
  width: 100%;
  background-color: white;
  overflow-x:auto;
  position: relative;
}
.table>tbody>tr>td{
    vertical-align: middle;
    horizontal-align: middle;
}

table td, table th {
  color: #2b686e;
  padding: 10px;
  border: 1px solid white;
  text-align: center;
  vertical-align: middle;
}
table td {
  text-align: center;
  vertical-align: middle;
}
table td:last-child {
  font-size: 0.95em;
  line-height: 1.4;
  text-align: center;
}
table th {
  background-color: #04a2be;
  font-weight: 300;
  text-align: center;
  color:white;
  vertical-align: middle;
}
table tr:nth-child(2n) {
  background-color: white;
  border: 1px solid #327a81;
}
table tr:nth-child(2n+1) {
  background-color: #edf7f8;
  border: 1px solid white;
}
#manage-menu{
    -webkit-padding-start: 0px;
    -webkit-margin-before: 0px;
    -webkit-margin-after: 0px;
    margin-top: 0px;
    margin-right: auto;
    margin-bottom: 0px;
    margin-left: auto;
    width:40px;
    background-color:#000000;
    position: relative; /* <-- Added */
    z-index: 1; /* <-- Added */
}

@header_background_color: #333;
@header_text_color: #FDFDFD;
@alternate_row_background_color: #DDD;

@table_width: 750px;
@table_body_height: 300px;
@column_one_width: 200px;
@column_two_width: 200px;
@column_three_width: 350px;

.fixed_headers {
  width: @table_width;
  table-layout: fixed;
  border-collapse: collapse;

  th { text-decoration: underline; }
  th, td {
    padding: 5px;
    text-align: left;
  }

  td:nth-child(1), th:nth-child(1) { min-width: @column_one_width; }
  td:nth-child(2), th:nth-child(2) { min-width: @column_two_width; }
  td:nth-child(3), th:nth-child(3) { width: @column_three_width; }

  thead {
    background-color: @header_background_color;
    color: @header_text_color;
    tr {
      display: block;
      position: relative;
    }
  }
  tbody {
    display: block;
    overflow: auto;
    width: 100%;
    height: @table_body_height;
    tr:nth-child(even) {
      background-color: @alternate_row_background_color;
    }
  }
}

.old_ie_wrapper {
  height: @table_body_height;
  width: @table_width;
  overflow-x: hidden;
  overflow-y: auto;
  tbody { height: auto; }
}

#myBtn {
  display: none;
  position: fixed;
  bottom: 40px;
  right: 30px;
  z-index: 99;
  border: none;
  outline: none;
  background-color: red;
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 10px;
}

#myBtn:hover {
  background-color: orange;
}

#admin{display:none}
</style>

<meta charset="UTF-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

<img src="{{admin.adminLogoImageUrl}}" id = "admin" style="width:80px; height:80px; border-radius:50%;margin-top:40px;margin-left:10px; z-index:2; position:fixed;" align="top">

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="table-users1" id="header" style="margin-top:13px; z-index:1; position:relative; width:70%; margin:auto;" align="top">
    <div class="header"></div>
    <table cellspacing="0" class="table table-fit">
        <tr>
            <th style="width:5%;">id</th>
            <th style="width:28%;">Size</th>
            <th style="width:28%;">Quantity</th>
            <th style="width:28%;">Price</th>
            <th style="width:25%;">Manage</th>
        </tr>
    </table>
</div>



<div class="table-users" style="margin-top:13px;">
    <div class="header"><img src="{{admin.adminLogoImageUrl}}" alt="" style="margin-right:30px;margin-left:500px;"/>Product Detail</div>

    <table cellspacing="0" class="table table-fit">
        <tr>
            <th style="width:12%;">Picture</th>
            <th style="width:10%;">Name</th>
            <th style="width:10%;">Inventory #</th>
            <th style="width:10%;">Category</th>
            <th style="width:10%;">Video</th>
            <th style="width:10%;">YouTube</th>
            <th style="width:42%;">Additional Marketing Material</th>
        </tr>

        <tr>
            <td>
                <a target="_blank" href="{{bproduct.bm_proImageUrl}}">
                    <img src="{{bproduct.bm_proImageUrl}}" alt="" id="product-image"/>
                </a>
            </td>
            <td>{{bproduct.bm_proName}}</td>
            <td>{{bproduct.bm_proInventoryNum}}</td>
            <td>{{bproduct.bm_proCategory}}</td>
            <td>
                {% if bproduct.video_url %}
                <center>
                    <video id="video" autobuffer  controls height="100" width="160" autoplay loop>
                        <source src="{{bproduct.video_url}}" />
                    </video>
                </center>
                {% else %}
                <label style="font-style:italic; font-size:12px; color:orange;">No video</label>
                {% endif %}
                <!--<br>-->
                <!--<a href="#" style="color:red; border: 0.8px solid red; font-size:12px; font-weight:300; border-radius:8px 30px 0px 30px; padding:3px 15px 3px 15px;">View YouTube</a>-->
            </td>
            <td>
                {% if bproduct.youtube_url %}
                <center>
                    <iframe autobuffer  height="100" width="160" src="https://www.youtube.com/embed/{{bproduct.youtube_url}}?autoplay=1"  frameborder="0" allowfullscreen >
                    </iframe>
                </center>
                {% else %}
                <label style="font-style:italic; font-size:12px; color:orange;">No video</label>
                {% endif %}
            </td>
            <td>{{bproduct.bm_proAdditional}}</td>
        </tr>

    </table>

</div>

<div class="" style="width:100%; height:3px;background-color:#f2d639; margin-bottom:10px;"></div>
<div class="" id="edit" style="background-color:#edf7f8; padding:5px; border-radius:8px; width:70%; margin:auto;" align="right">
    <a href="{% url 'vacay:add_detail_broadmoor' bproduct.bm_proid %}" style="margin-right:5px; color:orange;">
        <span class="glyphicon glyphicon-plus" aria-hidden="true" style="margin-bottom:10px;"></span>&nbsp; Add New
    </a>
<div class="" style="width:70%; margin:auto; overflow-y: auto; border-radius:8px;">
</div>
    <table cellspacing="0" class="table table-fit">
        <tr>
            <th style="width:5%;">id</th>
            <th style="width:28%;">Size</th>
            <th style="width:28%;">Quantity</th>
            <th style="width:28%;">Price</th>
            <th style="width:25%;">Manage</th>
        </tr>

        {% if bdetails %}

        {% for bdetail in bdetails %}

        <tr>
            <!--<td>{{bdetail.bm_detailID}}</td>-->

            <td>{{forloop.counter}}</td>

            <td>{{bdetail.bm_proSize}}</td>
            <td>{{bdetail.bm_proQuantity}}</td>
            <td>{{bdetail.bm_proPrice}}</td>
            <td>
                <div class="input-group" style="margin-left:50px;">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><img src="/static/vacay/images/manage.png" style="width:30px; height:30px;" class="manage"></a>
	                <ul class="dropdown-menu" role="menu" id="manage-menu">
                        {% csrf_token %}
	                    <li class="menu"><h4><a href="{% url 'vacay:edit_detail_broadmoor' bdetail.bm_detailID bproduct.bm_proid %}"><span class="glyphicon glyphicon-edit" style="margin-right:15px;margin-left:15px;"></span>Update</a></h4></li>
                        <li class="menu" style="margin-top:20px;"><h4><a href="{% url 'vacay:delete_detail_broadmoor' bdetail.bm_detailID bproduct.bm_proid %}" onclick="return confirm('Are you sure delete it?');"><span class="glyphicon glyphicon-trash" style="margin-right:15px;margin-left:15px;"></span>Delete</a></h4></li>
	                </ul>
                </div>
            </td>
        </tr>

        {% endfor %}
    {% endif %}

    </table>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $(window).on('scroll', function () {

  var $w = $(window);
  $('.position-fixed-x').css('left', $w.scrollLeft());
  $('.table-users1').css('top', $w.scrollTop());

});
</script>

<script>
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("header").style.display = "block";
        document.getElementById("myBtn").style.display = "block";
        document.getElementById("admin").style.display = "block";
    } else {
        document.getElementById("header").style.display = "none";
        document.getElementById("myBtn").style.display = "none";
        document.getElementById("admin").style.display = "none";
    }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    $( function() {
    $( "#edit" ).draggable();
  } );
</script>

{% endblock %}